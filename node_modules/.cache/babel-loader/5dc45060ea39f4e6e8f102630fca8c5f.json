{"ast":null,"code":"import * as e from \"react\";\nexport function useCallbackRef(r) {\n  var t = e.useRef(r);\n  return e.useEffect(function () {\n    t.current = r;\n  }), e.useMemo(function () {\n    return function () {\n      var _r;\n\n      var r;\n\n      for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n        e[_key] = arguments[_key];\n      }\n\n      return null === (r = t.current) || void 0 === r ? void 0 : (_r = r).call.apply(_r, [t].concat(e));\n    };\n  }, []);\n}","map":{"version":3,"sources":["packages/react/use-callback-ref/src/useCallbackRef.tsx"],"names":["useCallbackRef","callback","callbackRef","React","useRef","useEffect","current","useMemo","args"],"mappings":";OAMA,SAASA,cAAT,CAA2DC,CAA3D,EAA2DA;EACzD,IAAMC,CAAAA,GAAcC,CAAAA,CAAMC,MAAND,CAAaF,CAAbE,CAApB;EAOA,OALAA,CAAAA,CAAME,SAANF,CAAgB,YAAA;IACdD,CAAAA,CAAYI,OAAZJ,GAAsBD,CAAtBC;EAAsBD,CADxBE,GAKOA,CAAAA,CAAMI,OAANJ,CAAc;IAAA,OAAO,YAAIK;MAAAA;;MAAJ,IAAA,CAAA;;MAAIA,kCAAAA,CAAAA;QAAAA,CAAAA;MAAAA;;MAAJ,OAAA,UAAA,CAAA,GAAaN,CAAAA,CAAYI,OAAzB,KAAyBA,KAAzB,CAAyBA,KAAzB,CAAA,GAAA,KAAA,CAAA,GAAaJ,MAAAA,CAAAA,EAAAA,IAAAA,YAAAA,CAAAA,SAAyBM,CAAzBN,EAAb;IAAsCM,CAA7C;EAAA,CAAdL,EAAwE,EAAxEA,CAAP;AAA+E","sourcesContent":["import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n"]},"metadata":{},"sourceType":"module"}